import{a as f}from"./index-xsH4HHeE.js";import{_ as $,C as w}from"./index-B8HhW5lS.js";import{n as r,g as B,Y as l,r as a,o as s,Z as o,c as D,F,_ as N,a as c,L as g,$ as v,a0 as I,u as T}from"./vue-vendor-C3OiIXBd.js";const V="/API",A={__name:"index",setup(R){const d=V,i=r(!1),_=r([]),u=r(null),n=r({current:1,pageSize:5,total:0,onChange:t=>{n.value.current=t,p()}}),y=t=>new Date(t).toLocaleDateString("zh-CN"),p=async()=>{try{i.value=!0;const t=await f.get(`${d}/posts`,{params:{page:n.value.current,pageSize:n.value.pageSize}});t.data.code===200&&(_.value=t.data.data.list,n.value.total=t.data.data.pagination.total)}catch(t){console.error("Failed to fetch articles:",t)}finally{i.value=!1}},h=async()=>{try{const t=await f.get(`${d}/options/title`);t.data.code===200&&(u.value=t.data.data.value,document.title=u.value)}catch(t){console.error("Failed to fetch site title:",t)}};return B(()=>{p(),h()}),(t,U)=>{const k=a("a-skeleton"),m=a("router-link"),x=a("a-list-item-meta"),C=a("a-list-item"),S=a("a-list"),z=a("a-empty"),L=a("a-card");return s(),l(L,null,{default:o(()=>[i.value?(s(),D(F,{key:0},N(3,e=>c(k,{active:""})),64)):_.value.length>0?(s(),l(S,{key:1,"item-layout":"vertical",size:"large",pagination:n.value,"data-source":_.value},{renderItem:o(({item:e})=>[c(m,{to:`/article/${e.cid}`},{default:o(()=>[(s(),l(C,{key:e.cid},{actions:o(()=>[I("span",null,[c(T(w)),g(" "+v(y(e.created)),1)])]),default:o(()=>[c(x,{description:e.excerpt},{title:o(()=>[c(m,{to:`/article/${e.cid}`},{default:o(()=>[g(v(e.title),1)]),_:2},1032,["to"])]),_:2},1032,["description"])]),_:2},1024))]),_:2},1032,["to"])]),_:1},8,["pagination","data-source"])):(s(),l(z,{key:2,description:"没有数据"}))]),_:1})}}},O=$(A,[["__scopeId","data-v-01401e07"]]);export{O as default};
